{"pages":[{"title":"关于竹子","text":"欢迎来到竹子のBlog……其实吧….我也不知道我为啥要写blog这玩意…..可能主要是因为最近踩坑有点多…特别是前阵子装Microsoft Emulator(好像是这么拼的)的时候，坑太多了，好不容易跳过一个坑结果又掉化*池去了….我….联系方式：243285773(QQ)总觉得就写这些篇幅有点短…1echo write like this is soooooo amazing!","link":"/about/index.html"},{"title":"百度贴吧代签","text":"没啥可说的….http://47.94.245.205就行了......现在好像还设的需要邀请码？奥奥奥忘说了…这玩意恰饭，代签到一年20r（可议价绝对靠谱（我自己的也在上面挂着呢…（摊手QQ联系243285773，验证填写”贴吧代签”(≧︶≦))(￣▽￣ )ゞ","link":"/daiqian/index.html"},{"title":"tags","text":"","link":"/tags/index.html"}],"posts":[{"title":"基于matlab的电磁场求解","text":"事情的起因是这样的…我们工磁老师比较…有意思最终，只要做出某道题就可以加两分…那可是两分啊！我拼死拼活整个蓝桥杯也才0.3（唉ACM没人权So…我打算搞一下这个首先这玩意的话…有两个选择，要么matlab自己整一个，要么拿ansys或者maxwell这种东西直接搞… 还是先试试拿matlab自己手搓吧Matlab:首先是需要求解的方程本着不要重复造轮子的原则…仔细看了下PPT里面的求解过程…得出结论：只要用PPT算好的现成的公式就中即：公式里Fn`为1（与原题不同，a仍为1这样的话只要画出来这么一个函数的三维图像就中了问题是现在这个Σ搞起来有点麻烦，用symsum的话时间复杂度目测感人…（实际上确实复杂度感人，我跟小三土跑了半天都还”正忙”继续看PPT，继续照葫芦画瓢推导得12345x=0:0.001:1;y=0:0.001:1;z=sin(x&apos;*pi)*sinh(y*pi)/sinh(pi);#因为z是个101*101的矩阵，所以x要转置一下再运算surf(x,y,z);shading interp;#清除函数线，不然函数线太密了整体曲线都是黑的 这样就能画出这玩意的图了。。。侧着看从上往下看放大点鼠标放在上面就能显示当前指向处的x,y坐标和电位…看起来是这样的…更PPT上的点位图看着差不多…先这样吧，等晚上恰饭完了看看怎么用pdepe函数求偏微分方程组。。。放弃了，pdepe求不出来的只能求一元（大概是因为我能力有限其他的….PED应该可以但是那玩意我没太搞懂…理解不能百度文库倒是有…一篇专门讲这玩意的论文，不过最终还是没看懂，放弃了…就这样吧… 目前进度：未解决二次二阶偏微分方程组的matlab解法Mathematica:Mathematica是一个…十分厉害的数学软件（好吧我也才知道这玩意居然有点强，暂时还不知道到底能干啥…先接着上个的结论，直接求z=in (x3.14)sinh(y*3.14)/sinh(3.14)的三维曲面图然后试试那个…对就是那个12Plot3D[\\!\\(\\*UnderoverscriptBox[\\(\\[Sum]\\), \\(n = 1\\), \\(99999999\\)]\\(\\(sin(x*n*\\[Pi])\\)*\\(sinh(y*n*\\[Pi])\\)\\)\\),{x,0,1},{y,0,1}] emmmmm可以是可以，就是时间复杂度一如既往的爆表…慢着…他跟我提示这玩意不收敛我….？？？？？？搞毛啊… 然后就…失败了，我觉得我搞得木得问题啊ANSYS篇：妈耶这软件…捣鼓了半天，解决了： 1.北邮bt超高网速ipv6秒下 2.神奇的安装机制[这玩意咋还得手动切盘的] 3.dll文件缺失 4.啥插入啥的缺失最后败在了：ANSYS160_DIR IS NOT SET 上…..（不是这几个英文我都看得懂，可是为啥咋搜咋整都没得解决办法呢…算了算了下次放假的时候重新装一下试试吧w… 目前结果：”ANSYS_DIR IS NOT SET”（重装试试","link":"/2019/05/03/matlab初体验/"},{"title":"竹子のSTM32苦逼笔记<一> TFTLCD显示篇","text":"啊啊啊啊啊啊啊啊啥玩意啊这是捋一捋，目前存在的问题有：1.STM32无法被J-link识别2.LCD_ShowNum (30,150,x,200,30);无法正常显示数字3.main.c(51): warning: #167-D: argument of type “char “ is incompatible with parameter of type “u8 “4.u8疑似无法搞中文的问题…敲里吗…开始着手解决问题吧，想瞅瞅这个u8是个啥玩意123u8是unsigned charu16是unsigned shortu32是unsigned int ……懂了，顶算这玩意本来就不是字符串…拿看来解决问题的话，要么研究下汉字编码，要么去翻翻头文件…（好像是废话果然头文件LCD.h中有我想看的东西…void LCD_ShowString(u16 x,u16 y,u16 width,u16 height,u8 size,u8 *p); //显示一个字符串,12/16字体不说了先试试去(。・∀・)ノ…巧丽吗刚刚发现这个字符串也是u8类型…void LCD_Fast_DrawPoint(u16 x,u16 y,u16 color); //快速画点还好有这玩意，有空自己整一个汉字输出的吧QAQhttps://blog.csdn.net/skyliu1234/article/details/5444955先mark下，有空研究下","link":"/2019/04/08/STM32_1/"},{"title":"电路的复习总结","text":"","link":"/2019/04/22/电路复习记录/"},{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/2019/04/01/hello-world/"},{"title":"基于win服务器的贴吧云签到搭建","text":"之前搭建的贴吧云签到的服务器到期了…所以打算再搭一个废话不多说，直接进入正题···贴吧云代签资源下载地址：https://github.com/MoeNetwork/Tieba-Cloud-Sign···这个大佬搞得开源的，可以放心~(￣▽￣)~软件方面我决定用xampp…这玩意是个集成软件，免去了下配置mysql之类的繁琐…···xampp软件官方下载地址：https://www.apachefriends.org/index.html···安装没啥可说的，就一直next…安装完成后打开软件，顺手点开前三个start…随后在浏览器内输入IP地址可以看到xampp的网站提示，就意味着xampp安装成功···接下来我们要想办法把他启动文件换成我们贴吧云签到的…先顺手点下三个stop…养成好习惯去”C:\\xampp\\apache\\conf”文件夹下（这里我安装在了C盘，所以是”C:\\”，安装在其它位置同理找到xampp文件夹就行了找到文件夹下的”httpd.conf”文件，打开按”Ctrl + F”打开快捷搜索，输入”XAMPP/htdocs”，回车随后可以看到以下内容：12DocumentRoot &quot;C:/XAMPP/htdocs&quot;&lt;Directory &quot;C:/XAMPP/htdocs&quot;&gt; 将其中的”C:/XAMPP/htdocs”更改为自己下载的贴吧云代签的目录，以我为例12DocumentRoot &quot;C:\\Users\\Administrator\\Desktop\\Tieba-Cloud-Sign-master&quot;&lt;Directory &quot;C:\\Users\\Administrator\\Desktop\\Tieba-Cloud-Sign-master&quot;&gt; 改成这个，随后保存，打开xampp，启动服务，在浏览器内输入自己的服务器地址看到贴吧云代签的”检测到无 install.lock 文件”的提示网页，便意味着xampp这里基本上搞完了没啥问题了，接下来只要在浏览器输入自己服务器的IP地址然后跟着贴吧云代签的指示一步步走即可···流程如下：—-&gt;前往安装—-&gt;我接受—-&gt;下一步—-&gt;不，我不是（我用的是win服务器，所以这么选先不急着输那些信息…在 服 务 器 端 打开浏览器，地址栏填入”localhost/phpmyadmin”，回车(回车好像有点废话…不出意外的话会进入mysql管理界面（当然这个时候xampp的前三个都要在运行状态接下来的内容比较重要···在”localhost/phpmyadmin”页面下，点击账户，新增用户账户，用户名啥的自己填就是了…然后勾选”创建与用户同名的数据库并授予所有权限”，并在最下方”全局权限：全选”，点击右下角的执行…回到之前输服务器IP进入的页面，用户名啥的就填刚刚填的，数据库名称和用户名一样…—–&gt;下一步···到这里服务器就正式设置完毕了w…接下来要做的就无非是登陆然后设置balabala…···插件放在”Tieba-Cloud-Sign-master”文件夹下的”plugins”文件夹内插件资源地址：https://github.com/MoeNetwork/Tieba-Cloud-Sign/wiki/贴吧云签到插件库下载后记得把文件夹的master删去再复制到plugins文件夹内…然后去”插件管理”里面点下安装插件再点下激活插件就OK了w…..···最后，我的代签服务器IP：47.94.245.205 ，20r/年回本服务器，欢迎联系我QQ243285773[验证信息说代签]获取邀请码w….","link":"/2019/04/03/基于win服务器的贴吧云签到搭建/"},{"title":"Keil安装中中个人遇到的坑","text":"···2019.4.2 20.31···我这人比较懒，所以网上一艘一大堆的我就不瞎扯了，直接说重点：&lt;一&gt; 资源：1https://guanghou-my.sharepoint.com/:f:/g/personal/chenghello_get365_pw/EhgWI9ibjTFDq1Mab3wvyFsBaLrZJ9T5qW_1DghwHX-Ruw 资源来源：1https://www.52pojie.cn/thread-813453-1-1.html ···下载里面的:Keil_V5最新版汉化—-&gt;MDK526汉化文件//这玩意是汉化文件MDK526.exe //这玩意是MDKKeil所有版本【官网原版】—–&gt;c51v956KEIL-C51注册机… .zip···一般情况下就用到这些东西，其它文件可按照教程需求自行去该网址下载···&lt;二&gt; 填坑教程百度就行，百度一大堆，我就不重复写轮子了，就说重点1.汉化：安装好软件后，把下载的“UV4(版本MDK526汉化1.0).exe”这玩意拖进”keil—–&gt;UV4”文件夹下，然后每次打开软件都双击打开这个复制进去的exe就行，打开就是中文面板2.cannot open source input file “core_cm4.h”解决方法解决方法网上一大堆，比较有用的是这玩意1http://www.51hei.com/bbs/dpj-31366-1.html ···暂未遇到其它坑，先码这么多，目前还有一个keil识别不到单片机的问题未解决，解决了的话应该会来这吱一声","link":"/2019/04/02/keil安装/"},{"title":"小白竹的树莓派练习笔记<1>","text":"妈耶这玩意…绝了…需要用读卡器来给SD卡烧录程序w….有空整一个用手机试过了，不识别就很难受…这里需要两个软件，用来彻底格式化SD卡的SD Card Formatter和用来烧录的DiskImager…烧录的玩意在树莓派官网https://www.raspberrypi.org/downloads/raspbian/找凉凉借了个SD卡读卡器…直接插上插电脑拿那俩软件过一遍，无脑YES打开boot新建ssh文件夹新建wpa_supplicant.conf文件键入12345678910country=CNctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdevupdate_config=1network={ ssid=&quot;zhuzi&quot; psk=&quot;123457890&quot; key_mgmt=WPA-PSK priority=1} 这部分建议参考此教程http://shumeipai.nxez.com/2017/09/13/raspberry-pi-network-configuration-before-boot.html值得注意的是这玩意连接不了5G的WIFI，我一开始捣鼓了半天。。。接下来是SSH连接树莓派的部分…先下个https://www.putty.org/手机开个热点，账号zhuzi密码123457890(就上面写那个…树莓派插SD卡，通电，笔记本也连上热点，手机这边看见有个叫raspberrypi的设备连接的话就成功了然后电脑打开putty,IP填写树莓派的ip,账号pi密码raspberry如果弹出绿色的pi@raspberrypi就说明连接成功接下来整LCD屏幕…我这里用的3.5的LCD屏，参考教程https://www.jianshu.com/p/a159258ee155以下懒得写了，略好了，成功了，有了屏幕就简单多了","link":"/2019/05/21/小白竹的树莓派练习笔记-1/"},{"title":"基于单片机的宿舍二氧化碳浓度测量","text":"单片机：STM32F103传感器：SGP30脑洞来源：喵姐讲许逸风这傻孩子天天睡到下午可能和宿舍内的二氧化碳浓度有关…反正闲着也是闲着，不如做个实验测测宿舍二氧化碳的浓度变化目标：1.整一个能检测二氧化碳浓度并上传到串口的玩意2.想办法把这玩意搞得可用3.研究一下这玩意的源码原理，并顺便恶补下有关的单片机知识4….暂未定·········竹竹的奇妙分割线首先是串口通讯，这玩意还没学过，看来要恶补下翻了翻串口实验….搞一下！哭了，这玩意供电在1.5V左右，我先接了5V了半天，现在又接了一阵子3V，感觉这玩意怕不是以及被烧了QAQ啊啊啊啊啊啊啊啊啊先瞅瞅电压转换模块吧。。。这玩意凉了啊","link":"/2019/04/21/基于单片机的宿舍二氧化碳浓度测量/"},{"title":"2019年电赛摸鱼记录","text":"首先先看看这个蛋疼的试题…呜呜呜1234567891011121314151617181920212223242526272829303132333435363738394041424344454647482019 年华北电力大学第十三届大学生电子设计竞赛试题参赛注意事项（1） 竞赛时间：4 月 20 日 8：00--4 月 20 日 18：00（电路测试时间：4 月 21 日 8：00 开始）。（2） 竞赛试题包括两部分内容：1、设计方案阐述；2、电路设计与制作。其中电路设计部分要求完成实物制作并在规定时间进行测试完成测试表，需给出设计方案分析，电路图及参数。（3） 每队不超 3 人，开赛后不得中途更换队员，参赛者需携带个人学生证随时备查。（4） 竞赛期间，可使用各种图书资料和网络资源，但不得在学校指定竞赛场地外进行设计制作，不得以任何方式与他人交流，包括教师在内的非参赛队员必须回避，对违纪参赛队取消评审资格。一、任务运算放大器（简称“运放”）是具有很高放大倍数的电路单元。在实际电路中，通常结合反馈网络共同组成某种功能模块。运放不仅可以构成放大电路，还可以实现滤波、加减运算、微分积分运算等。二、要求使用单片机产生频率为 40kHz 占空比可调的 PWM 信号，经过低通滤波器后得到特定的信号作为输入信号，使用一片运算放大器 OPA2333 及其它元器件设计积分、微分电路，实现如下图框图所示功能。单片机产生PWM 低通滤波积分电路微分电路输入信号输出信号图 1 电路框图具体要求：1、单片机输出 PWM 信号，频率 80kHz，占空比可变；（10 分）2、设计制作低通滤波器（2-4 阶），通过单片机控制可用按键切换两种输出模式：a.输出 125Hz 方波，幅值可控，其平均值（偏移）为 1.8V，峰峰值为 1.4V；（15 分）b.输出 125Hz 三角波，幅值可控，其平均值（偏移）为 1.8V，峰峰值为 1.4V；（15 分）（以上内容可用信号发生器或者配置好的开发板进行测试，如此则该部分内容不得分）3、利用 OPA2333 设计电路分别对以上方波和三角波进行积分，输出无明显失真，写出方波和三角波电压对时间的积分公式，将自己设计的参数代入计算；（20 分）4、利用 OPA2333 设计电路分别对以上方波和三角波进行微分，输出无明显失真，写出方波和三角波电压对时间的微分公式，将自己设计的参数代入计算；（20 分）5、电路制作。（10 分）三、说明1、设备器件清单（1） 数字存储示波器、函数信号发生器、数字万用表、单路直流稳压电源（5V/1A）。（2） 多功能面包板、万用板，恒温烙铁、斜口钳、镊子、剥线钳等。（3） 元器件清单（按需取用，不得多取浪费。）种类 内容芯片 OPA2333*1(已焊接)电阻 10，100，1k，10k，100k，1M电容 1nF，10nF，100nF，1uF电位器 1k，10k，100k其它 单芯铜导线，杜邦线，排针，跳线帽2、电路要预留出明确的测试点，芯片损坏如需更换扣 10 分。 emmmm既然已经回宿舍了，345是搞不了了…看看1、2能做点什么文章…想了想还是搞一个单片机同时输出“80kHz可调占空比”&amp;&amp;“125Hz 方波，幅值可控，其平均值（偏移）为 1.8V，峰峰值为 1.4V”&amp;&amp;“125Hz 三角波”控制的话暂定按键中断吧。。。宿舍木得示波器。。。输出只能看脸了看了眼按键对应的接口。。。“WAKE UP”—PA0“KEY0” —PC5“KEY1” —PA15emmmm先声明一个IO口。。。“void GPIO_Init(GPIO_TypeDef GPIOx, GPIO_InitTypeDef GPIO_InitStruct)”。。。敲里吗。。。。算了算了不管中断，打算搞个骚操作。。。123456789101112131415while(t_d--){ t=KEY_Scan(0); //得到键值 switch(t) { case KEY0_PRES: ns=1; break; case KEY1_PRES: ns=2; break; default: delay_ms(10); } } //三秒内如果按下按键0/1，则输出其它波形 嗯。。。这个就是一个小聪明。。。或者说骚操作吧，没时间研究中断了。。。再看看DAC电压输出。。。翻了翻初始化函数与设置函数123456789101112131415161718192021222324252627282930313233//DAC通道1输出初始化void Dac1_Init(void){ GPIO_InitTypeDef GPIO_InitStructure; DAC_InitTypeDef DAC_InitType; RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA, ENABLE ); //使能PORTA通道时钟 RCC_APB1PeriphClockCmd(RCC_APB1Periph_DAC, ENABLE ); //使能DAC通道时钟 GPIO_InitStructure.GPIO_Pin = GPIO_Pin_4; // 端口配置 可以看出是4串口 GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AIN; //模拟输入 GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz; GPIO_Init(GPIOA, &amp;GPIO_InitStructure); GPIO_SetBits(GPIOA,GPIO_Pin_4) ;//PA.4····· DAC_InitType.DAC_Trigger=DAC_Trigger_None; //不使用触发功能 TEN1=0 DAC_InitType.DAC_WaveGeneration=DAC_WaveGeneration_None;//不使用波形发生·······波形发生这里。。。再看看吧，感觉有点意思 DAC_InitType.DAC_LFSRUnmask_TriangleAmplitude=DAC_LFSRUnmask_Bit0;//屏蔽、幅值设置 DAC_InitType.DAC_OutputBuffer=DAC_OutputBuffer_Disable ; //DAC1输出缓存关闭 BOFF1=1 DAC_Init(DAC_Channel_1,&amp;DAC_InitType); //初始化DAC通道1 DAC_Cmd(DAC_Channel_1, ENABLE); //使能DAC1 DAC_SetChannel1Data(DAC_Align_12b_R, 0); //12位右对齐数据格式设置DAC值}//设置通道1输出电压//vol:0~3300,代表0~3.3Vvoid Dac1_Set_Vol(u16 vol){ float temp=vol; temp/=1000; temp=temp*4096/3.3; DAC_SetChannel1Data(DAC_Align_12b_R,temp);//12位右对齐数据格式设置DAC值} ·····Two hours later…我。。。刚刚经历了什么。。。DAC方面。。。。暂时从dac.c里面凑了个这个123456789101112131415161718192021222324252627282930313233void Dac1_Init_(void){ GPIO_InitTypeDef GPIO_InitStructure; DAC_InitTypeDef DAC_InitType; RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA, ENABLE ); //使能PORTA通道时钟 RCC_APB1PeriphClockCmd(RCC_APB1Periph_DAC, ENABLE ); //使能DAC通道时钟 GPIO_InitStructure.GPIO_Pin = GPIO_Pin_4; // 端口配置。4口 GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AIN; //模拟输入 GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz; GPIO_Init(GPIOA, &amp;GPIO_InitStructure); GPIO_SetBits(GPIOA,GPIO_Pin_4) ;//PA.4 输出高 DAC_InitType.DAC_Trigger=DAC_Trigger_None; //不使用触发功能 TEN1=0 DAC_InitType.DAC_WaveGeneration=DAC_WaveGeneration_None;//不使用波形发生 DAC_InitType.DAC_LFSRUnmask_TriangleAmplitude=DAC_LFSRUnmask_Bit0;//屏蔽、幅值设置 DAC_InitType.DAC_OutputBuffer=DAC_OutputBuffer_Disable ; //DAC1输出缓存关闭 BOFF1=1 DAC_Init(DAC_Channel_1,&amp;DAC_InitType); //初始化DAC通道1 DAC_Cmd(DAC_Channel_1, ENABLE); //使能DAC1 DAC_SetChannel1Data(DAC_Align_12b_R, 0); //12位右对齐数据格式设置DAC值}s//设置通道1输出电压//vol:0~3300,代表0~3.3Vvoid Dac1_Set_Vol_(u16 vol){ float temp=vol; temp/=1000; temp=temp*4096/3.3; DAC_SetChannel1Data(DAC_Align_12b_R,temp);//12位右对齐数据格式设置DAC值} 又从CSDN上面找到了https://blog.csdn.net/ybhuangfugui/article/details/51373356 这篇文章。。。感觉参考价值比较大，可惜公众号上面木得这个例程，有点可惜12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455void triconfig(void){DAC_InitTypeDef DAC_InitStructure;TIM_TimeBaseInitTypeDef TIM_TimeBaseStructure;GPIO_InitTypeDef GPIO_InitStructure;/* 使能AHB时钟 */RCC_AHBPeriphClockCmd(RCC_APB2Periph_GPIOA | RCC_APB2Periph_GPIOB | RCC_APB2Periph_GPIOC | RCC_APB2Periph_GPIOD | RCC_APB2Periph_GPIOE | RCC_APB2Periph_GPIOF | RCC_APB2Periph_USART1, ENABLE);/* 使能APB2时钟 */RCC_APB2PeriphClockCmd(RCC_APB2Periph_USART1, ENABLE);/* 使能APB1时钟 */GPIO_InitStructure.GPIO_Pin = GPIO_Pin_4 | GPIO_Pin_5;GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AIN; //模拟模式GPIO_Init(GPIOA, &amp;GPIO_InitStructure);/* DA1配置 */DAC_InitStructure.DAC_Trigger = DAC_Trigger_T2_TRGO; //软件触发DA转换DAC_InitStructure.DAC_WaveGeneration = DAC_WaveGeneration_Triangle; //不产生波形DAC_InitStructure.DAC_LFSRUnmask_TriangleAmplitude = DAC_TriangleAmplitude_1;DAC_InitStructure.DAC_OutputBuffer = DAC_OutputBuffer_Enable; //使能输出缓存DAC_Init(DAC_Channel_1, &amp;DAC_InitStructure);DAC_InitStructure.DAC_LFSRUnmask_TriangleAmplitude = DAC_TriangleAmplitude_1023;DAC_Init(DAC_Channel_2, &amp;DAC_InitStructure);DAC_Cmd(DAC_Channel_1, ENABLE); DAC_Cmd(DAC_Channel_2, ENABLE); DAC_SetDualChannelData(DAC_Align_12b_R, 0x100, 0x100);/* TIM2时基单元配置 */TIM_TimeBaseStructInit (&amp;TIM_TimeBaseStructure );TIM_TimeBaseStructure.TIM_Prescaler = 0x0F; //预分频值TIM_TimeBaseStructure.TIM_CounterMode = TIM_CounterMode_Up; //向上计数模式TIM_TimeBaseStructure.TIM_Period = 0x0F; //定时周期(自动从装载寄存器ARR的值)TIM_TimeBaseStructure.TIM_ClockDivision = 0x00; //时钟分频因子TIM_TimeBaseStructure.TIM_CounterMode = TIM_CounterMode_Up ;TIM_TimeBaseInit(TIM6, &amp;TIM_TimeBaseStructure);/* 使能预分频值 */TIM_SelectOutputTrigger(TIM2,TIM_TRGOSource_Update ); TIM_Cmd(TIM2,ENABLE);}void DAC1_OutTriangle(uint16_t DAC_BaseData,uint16_t DAC_TriangleAmplitude_x,uint16_t Frequency){ DAC_InitTypeDef DAC_InitStructure; TIM_TimeBaseInitTypeDef TIM_TimeBaseStructure; uint16_t amplitude_index;uint16_t amplitude_x;uint16_t tim_presc;/* 1.计算数值*/amplitude_index = ( (DAC_TriangleAmplitude_x &gt;&gt; 8) &amp; 0x000F) + 1;amplitude_x = pow(2, amplitude_index) ;tim_presc = SystemCoreClock / Frequency / amplitude_x / 4;//计算TIM分频值DAC_InitStructure.DAC_Trigger = DAC_Trigger_T2_TRGO; //IIM2触发DA转换DAC_InitStructure.DAC_WaveGeneration = DAC_WaveGeneration_Triangle;//三角波形//设置振幅值DAC_InitStructure.DAC_LFSRUnmask_TriangleAmplitude = DAC_TriangleAmplitude_x;DAC_InitStructure.DAC_OutputBuffer=DAC_OutputBuffer_Enable; //11使能输出缓存} ？？？这都啥玩意。。。一脸黑人问号。。。主程目前搞得。。。唉玄学代码123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051int main(void) { u8 t=0; u8 ns=0; u8 t_d=1; //LCD_Init(); delay_init(); //延时函数初始化 LED_Init(); //初始化与LED连接的硬件接口 KEY_Init(); //初始化与按键连接的硬件接口 LED0=0; //点亮LED Dac1_Init_(); //PA4作为方形波输出接口 triconfig(); while(t_d) { t=KEY_Scan(0); //得到键值 switch(t) { case KEY0_PRES: ns = 1; t_d = 0; break; case KEY1_PRES: ns = 2; t_d = 0; break; default: delay_ms(10); } } //三秒内如果按下按键0/1，则输出其它波形*/ while(1) { ns=2; if(ns==1) { //LCD_Clear(0x001F); // LCD_ShowString(30,70,200,16,16,&quot;NOW:square wave&quot;); while(1){ Dac1_Set_Vol_(2.5); delay_ms(4); Dac1_Set_Vol_(1.1); delay_ms(4); } } else { //LCD_Clear(0x7FFF); //LCD_ShowString(30,70,200,16,16,&quot;NOW:triangle wave&quot;); DAC1_OutTriangle(0, DAC_TriangleAmplitude_2047, 100); } }} 等过阵子安稳下来就好好学习一下单片机了。。。明天顺便去拿下快递研究下那个神奇的空气传感器？？？","link":"/2019/04/20/2019年电赛摸鱼记录/"}],"tags":[],"categories":[]}